// Output stream overloads.
template<
    // Two explicit template parameters are needed for containers like std::map.
    template<class, class> class Range, class K, class V,
    // This overload must be disabled for std::string to avoid ambiguity.
    typename = enable_if_t<!is_same_v<Range<K, V>, string>>
>
ostream& operator<<(ostream& out, const Range<K, V>& range) {
    out << '{';
    for (auto it = range.begin(); it != range.end(); ++it) {
        out << *it << (next(it) != range.end() ? ", " : "");
    }
    return out << '}';
}

template <class F, class S>
ostream& operator<<(ostream& out, const pair<F, S>& pair) {
    return out << '(' << pair.first << ", " << pair.second << ')';
}